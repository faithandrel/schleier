(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2ff9":function(a,t,s){"use strict";s.r(t);var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"q-pa-md"},[0==a.status?s("div",[s("p",[a._v("Register for "+a._s(a.email))]),a.formErrors.length>0?s("div",a._l(a.formErrors,(function(t,e){return s("p",{key:e,staticClass:"text-red"},[a._v("\n\t\t\t\t"+a._s(t)+"\n\t\t\t")])})),0):a._e(),s("q-input",{attrs:{label:"Name","stack-label":""},model:{value:a.name,callback:function(t){a.name=t},expression:"name"}}),s("q-input",{attrs:{label:"Password",type:"password","stack-label":""},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),s("q-file",{attrs:{label:"Avatar",accept:".jpg, image/*"},scopedSlots:a._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}],null,!1,2664251742),model:{value:a.avatar,callback:function(t){a.avatar=t},expression:"avatar"}}),s("div",{staticClass:"q-pa-sm"},[s("q-btn",{attrs:{color:"primary",label:"Save"},on:{click:function(t){return a.saveProfile()}}})],1)],1):a._e(),1==a.status?s("div",[s("h4",[a._v("Profile")]),s("img",{attrs:{src:a.image}}),s("p",[a._v(a._s(a.name))]),s("p",[a._v(a._s(a.email))])]):a._e(),2==a.status?s("div",[s("p",[a._v("Invalid invite.")])]):a._e()])},r=[],i=(s("e6cf"),s("5b34")),n=s("5fb0"),o={data(){return{name:"",password:"",email:"",avatar:null,image:"",invite:"",status:2,formErrors:[]}},async mounted(){const a=this.$route.query,t=await i["a"].getInvite(a.invite);this.name=t.name,this.invite=a.invite,this.email=t.email,this.status=t.status,t.avatar&&(this.image=t.avatar)},methods:{async saveProfile(){this.formErrors=[];try{if(await i["a"].saveProfile({invite:this.invite,email:this.email,name:this.name,password:this.password,avatar:this.avatar}),this.avatar){const a=await i["a"].saveAvatar(this.avatar,this.email);this.image=n["b"]+"/"+a}this.status=1}catch(a){if(422===a.response.status&&a.response.data.errors)for(const t in a.response.data.errors){const s=a.response.data.errors[t];for(const a in s)this.formErrors.push(s[a])}}}}},l=o,c=s("2877"),u=s("27f9"),d=s("7d53"),m=s("0016"),v=s("9c40"),p=s("eebe"),f=s.n(p),h=Object(c["a"])(l,e,r,!1,null,null,null);t["default"]=h.exports;f()(h,"components",{QInput:u["a"],QFile:d["a"],QIcon:m["a"],QBtn:v["a"]})},"5b34":function(a,t,s){"use strict";s("e6cf");var e=s("bc3a"),r=s.n(e),i=s("5fb0");class n{static async getAllUsers(){const a=await r()({method:"GET",url:i["a"]+"/users"});return a.data}static async saveNewUser(a,t){const s=await r()({method:"POST",url:i["a"]+"/users/add",data:{name:a,email:t}});return s.data}static async getInvite(a){const t=await r()({method:"POST",url:i["a"]+"/invite",data:{token:a}});return t.data}static async saveProfile(a){const t=await r()({method:"POST",url:i["a"]+"/profile",data:{invite:a.invite,email:a.email,name:a.name,password:a.password}});return t.data}static async saveAvatar(a,t){const s=new FormData;s.append("file",a),s.append("email",t);const e=await r()({method:"POST",headers:{"Content-Type":"multipart/form-data"},url:i["a"]+"/avatar",data:s});return e.data}static async disableUsers(a){const t=await r()({method:"POST",url:i["a"]+"/users/disable",data:{users:a}});return t.data}}t["a"]=n},"5fb0":function(a,t,s){"use strict";s.d(t,"b",(function(){return e})),s.d(t,"a",(function(){return r}));const e="http://localhost:8000",r="http://localhost:8000/api"}}]);